<!--
/*******************************************************************************
* Name: QuizziPedia::Front-End::Views::EditorQMLView;
* Description: view contenente le form dedicate alla creazione di domanda con
* QML;
* Creation data: 03-04-2016;
* Author: Alberto Ferrara.
********************************************************************************
* Updates history
*-------------------------------------------------------------------------------
* ID: EditorQMLView_20160526;
* Update data: 26-05-2016;
* Description: Aggiornata la view;
* Author: Matteo Granzotto.
*-------------------------------------------------------------------------------
* class: EditorQMLView_20160503;
* Update data: 03-05-2016;
* Description: creazione view;
* Author: Alberto Ferrara.
*-------------------------------------------------------------------------------
*******************************************************************************/
-->
<!-- Metadata -->
<title ng-bind="ngMeta.title"></title>
<meta name="description" content="{{ngMeta.description}}" />
        <div layout="column" flex class="content" role="main" ng-controller="AppController">

            <div class="layout-align-center layout-column" layout="column" layout-align="center"  >

                <section class="question-creation sezione md-whiteframe-z1" layout-sm="column" layout-xs="column" layout-align="center">

                    <md-toolbar class="md-primary toolbar">
                        <div class="md-toolbar-tools">
                            <span flex="" class="flex"></span>
                            <h3 class="ng-binding">{{listOfKeys.titleLangQML}}</h3>
                            <span flex="" class="flex"></span>
                        </div>
                    </md-toolbar>

                    <!-- <h1 class="QMLtitle">{{listOfKeys.writeHereLang}}</h1> -->
                    <div class="false-if-choice" layout="row" layout-sm="column" layout-xs="column" ng-if="!id">
                      <div class="topicTextChoice" id="topicTextChoiceId"> {{listOfKeys.selectedTopicLang}} </div>
                      <div class="topicPossibleChoice">
                        <md-input-container class="select-container">
                          <md-select class="topics" placeholder="{{listOfKeys.selectedTopicLang}}" ng-model="$parent.selectedTopic" >
                            <md-optgroup label={{listOfKeys.argumentsTopicKeywordsDirective}}>
                              <md-option ng-value="topic" ng-repeat="topic in topics | orderBy : 'name'">{{topic.name}}</md-option>
                          </md-select>
                        </md-optgroup>
                        </md-input-container>
                      </div>
                    </div>
                    <div class="true-if-choice" layout="row" layout-sm="column" layout-xs="column" ng-if="id">
                      <div class="topicTextChoice" id="topicTextChoiceId"> {{listOfKeys.choosenTopicLang}}:  </div>
                      <div class="topicChoice" id="topicChoiceId"> {{selectedTopic.name}} </div>
                    </div>
                    <div class="contentQML">
                        <juicy-ace-editor id="Juiceeditor" style="min-height:500px" mode="ace/mode/json">{{question}}</juicy-ace-editor>
                      </div>
                    <div layout="row" layout-align="center center" >
                        <form name="userForm" class=" userForm layout-align-center layout-column flex-80" layout="column" layout-align="center">
                            <md-input-container layout-align="center center">
                                <div layout="row" layout-md="column" layout-sm="column"  layout-xs="column" layout-margin>
                                    <md-button ng-click="goToWizard()" class="md-raised md-primary font-smaller" flex="50" flex-md="100" flex-sm="100" flex-xs="100">{{listOfKeys.goToWizard}}</md-button>
                                    <md-button ng-if="id == undefined" ng-click="submitQuestion(selectedTopic)" class="md-raised md-primary font-smaller" flex="50" flex-md="100" flex-sm="100" flex-xs="100">{{listOfKeys.buttonConfirmLangQML}}</md-button>
                                    <md-button ng-if="id != undefined" ng-click="submitQuestion(selectedTopic)" class="md-raised md-primary font-smaller" flex="50" flex-md="100" flex-sm="100" flex-xs="100">{{listOfKeys.buttonConfirmEditLangQML}}</md-button>
                                </div>
                            </md-input-container>

                        </form>

                    </div>

                </section>

            </div>

        </div>
